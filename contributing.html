

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è´¡çŒ®æŒ‡å— &mdash; pyutils 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=8d563738"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="å˜æ›´æ—¥å¿—" href="changelog.html" />
    <link rel="prev" title="pyutils package" href="pyutils.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >

          
          
          <a href="index.html" class="icon icon-home">
            pyutils
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">å†…å®¹ç›®å½•:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">å®‰è£…æŒ‡å—</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">å¿«é€Ÿå¼€å§‹</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pyutils</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">è´¡çŒ®æŒ‡å—</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">å¼€å‘ç¯å¢ƒè®¾ç½®</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">å¼€å‘å·¥ä½œæµ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">ä»£ç è´¨é‡æ£€æŸ¥</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">æµ‹è¯•</a></li>
<li class="toctree-l3"><a class="reference internal" href="#makefile">ä½¿ç”¨ Makefile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id6">æäº¤ä»£ç </a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">åˆ†æ”¯ç­–ç•¥</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">æäº¤æµç¨‹</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">æäº¤ä¿¡æ¯è§„èŒƒ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id10">ä»£ç è§„èŒƒ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">ä»£ç é£æ ¼</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">ç±»å‹æ³¨è§£</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">æ–‡æ¡£è§„èŒƒ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id14">æµ‹è¯•è§„èŒƒ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">æµ‹è¯•ç»“æ„</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">è¦†ç›–ç‡è¦æ±‚</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">æ€§èƒ½æµ‹è¯•</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id18">æ–‡æ¡£è´¡çŒ®</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">æ–‡æ¡£ç±»å‹</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">æ„å»ºæ–‡æ¡£</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id21">å‘å¸ƒæµç¨‹</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id22">ç‰ˆæœ¬ç®¡ç†</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">è‡ªåŠ¨å‘å¸ƒ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">æ‰‹åŠ¨å‘å¸ƒ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id25">é—®é¢˜æŠ¥å‘Š</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bug">æŠ¥å‘Š Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">åŠŸèƒ½è¯·æ±‚</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id27">è·å–å¸®åŠ©</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">å˜æ›´æ—¥å¿—</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html">pyutils</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyutils</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">è´¡çŒ®æŒ‡å—</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/contributing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>è´¡çŒ®æŒ‡å—<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h1>
<p>æ„Ÿè°¢æ‚¨å¯¹ pyutils é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul class="simple">
<li><p>æŠ¥å‘Š bug</p></li>
<li><p>æå‡ºæ–°åŠŸèƒ½å»ºè®®</p></li>
<li><p>æ”¹è¿›æ–‡æ¡£</p></li>
<li><p>æäº¤ä»£ç ä¿®å¤</p></li>
<li><p>æ·»åŠ æ–°åŠŸèƒ½</p></li>
<li><p>ä¼˜åŒ–æ€§èƒ½</p></li>
</ul>
<section id="id2">
<h2>å¼€å‘ç¯å¢ƒè®¾ç½®<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h2>
<p>æ¨èä½¿ç”¨ uv è¿›è¡Œå¼€å‘ç¯å¢ƒç®¡ç†ï¼š</p>
<ol class="arabic">
<li><p><strong>å…‹éš†ä»“åº“</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">your</span><span class="o">-</span><span class="n">username</span><span class="o">/</span><span class="n">pyutils</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">pyutils</span>
</pre></div>
</div>
</li>
<li><p><strong>å®‰è£… uv</strong> ï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Windows</span>
<span class="n">powershell</span> <span class="o">-</span><span class="n">ExecutionPolicy</span> <span class="n">ByPass</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;irm https://astral.sh/uv/install.ps1 | iex&quot;</span>

<span class="c1"># macOS/Linux</span>
<span class="n">curl</span> <span class="o">-</span><span class="n">LsSf</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">astral</span><span class="o">.</span><span class="n">sh</span><span class="o">/</span><span class="n">uv</span><span class="o">/</span><span class="n">install</span><span class="o">.</span><span class="n">sh</span> <span class="o">|</span> <span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p><strong>è®¾ç½®å¼€å‘ç¯å¢ƒ</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uv</span> <span class="n">sync</span> <span class="o">--</span><span class="nb">all</span><span class="o">-</span><span class="n">extras</span> <span class="o">--</span><span class="n">dev</span>
</pre></div>
</div>
</li>
<li><p><strong>å®‰è£… pre-commit é’©å­</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uv</span> <span class="n">run</span> <span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">install</span>
<span class="n">uv</span> <span class="n">run</span> <span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">install</span> <span class="o">--</span><span class="n">hook</span><span class="o">-</span><span class="nb">type</span> <span class="n">commit</span><span class="o">-</span><span class="n">msg</span>
</pre></div>
</div>
</li>
<li><p><strong>éªŒè¯ç¯å¢ƒ</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uv</span> <span class="n">run</span> <span class="n">pytest</span> <span class="n">tests</span><span class="o">/</span>
<span class="n">uv</span> <span class="n">run</span> <span class="n">ruff</span> <span class="n">check</span> <span class="n">src</span><span class="o">/</span>
<span class="n">uv</span> <span class="n">run</span> <span class="n">mypy</span> <span class="n">src</span><span class="o">/</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="id3">
<h2>å¼€å‘å·¥ä½œæµ<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h2>
<p>æˆ‘ä»¬ä½¿ç”¨ç°ä»£åŒ–çš„å¼€å‘å·¥å…·é“¾æ¥ç¡®ä¿ä»£ç è´¨é‡ï¼š</p>
<section id="id4">
<h3>ä»£ç è´¨é‡æ£€æŸ¥<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ä»£ç æ ¼å¼åŒ–</span>
uv<span class="w"> </span>run<span class="w"> </span>ruff<span class="w"> </span>format<span class="w"> </span>src/<span class="w"> </span>tests/

<span class="c1"># ä»£ç æ£€æŸ¥å’Œè‡ªåŠ¨ä¿®å¤</span>
uv<span class="w"> </span>run<span class="w"> </span>ruff<span class="w"> </span>check<span class="w"> </span>--fix<span class="w"> </span>src/<span class="w"> </span>tests/

<span class="c1"># ç±»å‹æ£€æŸ¥</span>
uv<span class="w"> </span>run<span class="w"> </span>mypy<span class="w"> </span>src/

<span class="c1"># å®‰å…¨æ£€æŸ¥</span>
uv<span class="w"> </span>run<span class="w"> </span>bandit<span class="w"> </span>-r<span class="w"> </span>src/
</pre></div>
</div>
</section>
<section id="id5">
<h3>æµ‹è¯•<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># è¿è¡Œæ‰€æœ‰æµ‹è¯•</span>
uv<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/

<span class="c1"># è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š</span>
uv<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>--cov<span class="o">=</span>src<span class="w"> </span>--cov-report<span class="o">=</span>html<span class="w"> </span>--cov-report<span class="o">=</span>term

<span class="c1"># è¿è¡Œç‰¹å®šæµ‹è¯•</span>
uv<span class="w"> </span>run<span class="w"> </span>pytest<span class="w"> </span>tests/test_string.py

<span class="c1"># è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•</span>
uv<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>benchmark.py
</pre></div>
</div>
</section>
<section id="makefile">
<h3>ä½¿ç”¨ Makefile<a class="headerlink" href="#makefile" title="Link to this heading">ïƒ</a></h3>
<p>é¡¹ç›®æä¾›äº† Makefile æ¥ç®€åŒ–å¸¸ç”¨å‘½ä»¤ï¼š</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤</span>
make<span class="w"> </span><span class="nb">help</span>

<span class="c1"># å¿«é€Ÿæ£€æŸ¥ï¼ˆæ ¼å¼åŒ– + æ£€æŸ¥ + ç±»å‹æ£€æŸ¥ï¼‰</span>
make<span class="w"> </span>quick-check

<span class="c1"># è¿è¡Œæ‰€æœ‰ CI æ£€æŸ¥</span>
make<span class="w"> </span>ci

<span class="c1"># è®¾ç½®å¼€å‘ç¯å¢ƒ</span>
make<span class="w"> </span>dev-setup
</pre></div>
</div>
</section>
</section>
<section id="id6">
<h2>æäº¤ä»£ç <a class="headerlink" href="#id6" title="Link to this heading">ïƒ</a></h2>
<section id="id7">
<h3>åˆ†æ”¯ç­–ç•¥<a class="headerlink" href="#id7" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">main</span></code> - ä¸»åˆ†æ”¯ï¼ŒåŒ…å«ç¨³å®šçš„å‘å¸ƒç‰ˆæœ¬</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">develop</span></code> - å¼€å‘åˆ†æ”¯ï¼ŒåŒ…å«æœ€æ–°çš„å¼€å‘ä»£ç </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">feature/*</span></code> - åŠŸèƒ½åˆ†æ”¯</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bugfix/*</span></code> - ä¿®å¤åˆ†æ”¯</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hotfix/*</span></code> - ç´§æ€¥ä¿®å¤åˆ†æ”¯</p></li>
</ul>
</section>
<section id="id8">
<h3>æäº¤æµç¨‹<a class="headerlink" href="#id8" title="Link to this heading">ïƒ</a></h3>
<ol class="arabic">
<li><p><strong>åˆ›å»ºåŠŸèƒ½åˆ†æ”¯</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="n">feature</span><span class="o">/</span><span class="n">your</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">name</span>
</pre></div>
</div>
</li>
<li><p><strong>è¿›è¡Œå¼€å‘</strong>ï¼Œç¡®ä¿éµå¾ªä»£ç è§„èŒƒ</p></li>
<li><p><strong>è¿è¡Œæµ‹è¯•å’Œæ£€æŸ¥</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">quick</span><span class="o">-</span><span class="n">check</span>
<span class="n">uv</span> <span class="n">run</span> <span class="n">pytest</span> <span class="n">tests</span><span class="o">/</span>
</pre></div>
</div>
</li>
<li><p><strong>æäº¤ä»£ç </strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
<span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;feat: add your feature description&quot;</span>
</pre></div>
</div>
</li>
<li><p><strong>æ¨é€åˆ†æ”¯</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">feature</span><span class="o">/</span><span class="n">your</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">name</span>
</pre></div>
</div>
</li>
<li><p><strong>åˆ›å»º Pull Request</strong></p></li>
</ol>
</section>
<section id="id9">
<h3>æäº¤ä¿¡æ¯è§„èŒƒ<a class="headerlink" href="#id9" title="Link to this heading">ïƒ</a></h3>
<p>æˆ‘ä»¬ä½¿ç”¨ <a class="reference external" href="https://www.conventionalcommits.org/">Conventional Commits</a> è§„èŒƒï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">[</span><span class="n">optional</span> <span class="n">scope</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">description</span><span class="o">&gt;</span>

<span class="p">[</span><span class="n">optional</span> <span class="n">body</span><span class="p">]</span>

<span class="p">[</span><span class="n">optional</span> <span class="n">footer</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span>
</pre></div>
</div>
<p>ç±»å‹è¯´æ˜ï¼š</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">feat</span></code>: æ–°åŠŸèƒ½</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fix</span></code>: ä¿®å¤ bug</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs</span></code>: æ–‡æ¡£æ›´æ–°</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">style</span></code>: ä»£ç æ ¼å¼åŒ–ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">refactor</span></code>: é‡æ„ä»£ç </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">perf</span></code>: æ€§èƒ½ä¼˜åŒ–</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test</span></code>: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chore</span></code>: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</p></li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">feat</span><span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">add</span> <span class="n">fuzzy</span> <span class="n">matching</span> <span class="n">function</span>

<span class="n">fix</span><span class="p">(</span><span class="n">array</span><span class="p">):</span> <span class="n">handle</span> <span class="n">empty</span> <span class="n">array</span> <span class="ow">in</span> <span class="n">chunk</span> <span class="n">function</span>

<span class="n">docs</span><span class="p">:</span> <span class="n">update</span> <span class="n">installation</span> <span class="n">guide</span> <span class="k">for</span> <span class="n">uv</span>

<span class="n">test</span><span class="p">(</span><span class="n">math</span><span class="p">):</span> <span class="n">add</span> <span class="n">tests</span> <span class="k">for</span> <span class="n">clamp</span> <span class="n">function</span> <span class="n">edge</span> <span class="n">cases</span>
</pre></div>
</div>
</section>
</section>
<section id="id10">
<h2>ä»£ç è§„èŒƒ<a class="headerlink" href="#id10" title="Link to this heading">ïƒ</a></h2>
<section id="id11">
<h3>ä»£ç é£æ ¼<a class="headerlink" href="#id11" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>ä½¿ç”¨ Ruff è¿›è¡Œä»£ç æ ¼å¼åŒ–å’Œæ£€æŸ¥</p></li>
<li><p>è¡Œé•¿åº¦é™åˆ¶ä¸º 88 å­—ç¬¦</p></li>
<li><p>ä½¿ç”¨ Google é£æ ¼çš„ docstring</p></li>
<li><p>éµå¾ª PEP 8 è§„èŒƒ</p></li>
</ul>
</section>
<section id="id12">
<h3>ç±»å‹æ³¨è§£<a class="headerlink" href="#id12" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>æ‰€æœ‰å…¬å…±å‡½æ•°å¿…é¡»æœ‰å®Œæ•´çš„ç±»å‹æ³¨è§£</p></li>
<li><p>ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">typing</span></code> æ¨¡å—çš„ç±»å‹æç¤º</p></li>
<li><p>å¤æ‚ç±»å‹ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">TypeVar</span></code> å’Œ <code class="docutils literal notranslate"><span class="pre">Generic</span></code></p></li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Union</span>

<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">chunk</span><span class="p">(</span><span class="n">array</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;å°†æ•°ç»„åˆ†å‰²æˆæŒ‡å®šå¤§å°çš„å—ã€‚</span>

<span class="sd">    Args:</span>
<span class="sd">        array: è¦åˆ†å‰²çš„æ•°ç»„</span>
<span class="sd">        size: æ¯å—çš„å¤§å°</span>

<span class="sd">    Returns:</span>
<span class="sd">        åˆ†å‰²åçš„æ•°ç»„åˆ—è¡¨</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: å½“ size å°äºç­‰äº 0 æ—¶</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; chunk([1, 2, 3, 4, 5], 2)</span>
<span class="sd">        [[1, 2], [3, 4], [5]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">size</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Size must be positive&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="n">size</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">array</span><span class="p">),</span> <span class="n">size</span><span class="p">)]</span>
</pre></div>
</div>
</section>
<section id="id13">
<h3>æ–‡æ¡£è§„èŒƒ<a class="headerlink" href="#id13" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>ä½¿ç”¨ Google é£æ ¼çš„ docstring</p></li>
<li><p>åŒ…å«å‚æ•°è¯´æ˜ã€è¿”å›å€¼è¯´æ˜å’Œç¤ºä¾‹</p></li>
<li><p>é‡è¦å‡½æ•°éœ€è¦åŒ…å«å¼‚å¸¸è¯´æ˜</p></li>
<li><p>å¤æ‚ç®—æ³•éœ€è¦è¯´æ˜æ—¶é—´å¤æ‚åº¦</p></li>
</ul>
</section>
</section>
<section id="id14">
<h2>æµ‹è¯•è§„èŒƒ<a class="headerlink" href="#id14" title="Link to this heading">ïƒ</a></h2>
<section id="id15">
<h3>æµ‹è¯•ç»“æ„<a class="headerlink" href="#id15" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>æ¯ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼š<code class="docutils literal notranslate"><span class="pre">test_&lt;module_name&gt;.py</span></code></p></li>
<li><p>ä½¿ç”¨ pytest æ¡†æ¶</p></li>
<li><p>æµ‹è¯•å‡½æ•°å‘½åï¼š<code class="docutils literal notranslate"><span class="pre">test_&lt;function_name&gt;_&lt;scenario&gt;</span></code></p></li>
<li><p>ä½¿ç”¨å‚æ•°åŒ–æµ‹è¯•å¤„ç†å¤šç§è¾“å…¥æƒ…å†µ</p></li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pyutils.array</span><span class="w"> </span><span class="kn">import</span> <span class="n">chunk</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TestChunk</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;æµ‹è¯• chunk å‡½æ•°ã€‚&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_chunk_normal_case</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;æµ‹è¯•æ­£å¸¸æƒ…å†µã€‚&quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">chunk</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">]]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_chunk_empty_array</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;æµ‹è¯•ç©ºæ•°ç»„ã€‚&quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">chunk</span><span class="p">([],</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">result</span> <span class="o">==</span> <span class="p">[]</span>

    <span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s2">&quot;array,size,expected&quot;</span><span class="p">,</span> <span class="p">[</span>
        <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]),</span>
        <span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]]),</span>
        <span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">]]),</span>
    <span class="p">])</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">test_chunk_parametrized</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">array</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;å‚æ•°åŒ–æµ‹è¯•ã€‚&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">chunk</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">test_chunk_invalid_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;æµ‹è¯•æ— æ•ˆçš„ size å‚æ•°ã€‚&quot;&quot;&quot;</span>
        <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s2">&quot;Size must be positive&quot;</span><span class="p">):</span>
            <span class="n">chunk</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id16">
<h3>è¦†ç›–ç‡è¦æ±‚<a class="headerlink" href="#id16" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>æ–°ä»£ç çš„æµ‹è¯•è¦†ç›–ç‡åº”è¾¾åˆ° 90% ä»¥ä¸Š</p></li>
<li><p>å…³é”®åŠŸèƒ½å¿…é¡»æœ‰å®Œæ•´çš„æµ‹è¯•è¦†ç›–</p></li>
<li><p>è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸æƒ…å†µå¿…é¡»æµ‹è¯•</p></li>
</ul>
</section>
<section id="id17">
<h3>æ€§èƒ½æµ‹è¯•<a class="headerlink" href="#id17" title="Link to this heading">ïƒ</a></h3>
<p>å¯¹äºæ€§èƒ½æ•æ„Ÿçš„åŠŸèƒ½ï¼Œéœ€è¦æ·»åŠ åŸºå‡†æµ‹è¯•ï¼š</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">test_chunk_performance</span><span class="p">(</span><span class="n">benchmark</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;æµ‹è¯• chunk å‡½æ•°æ€§èƒ½ã€‚&quot;&quot;&quot;</span>
    <span class="n">large_array</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">(</span><span class="n">chunk</span><span class="p">,</span> <span class="n">large_array</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">==</span> <span class="mi">100</span>
</pre></div>
</div>
</section>
</section>
<section id="id18">
<h2>æ–‡æ¡£è´¡çŒ®<a class="headerlink" href="#id18" title="Link to this heading">ïƒ</a></h2>
<section id="id19">
<h3>æ–‡æ¡£ç±»å‹<a class="headerlink" href="#id19" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>API æ–‡æ¡£ï¼šè‡ªåŠ¨ä» docstring ç”Ÿæˆ</p></li>
<li><p>ç”¨æˆ·æŒ‡å—ï¼šæ‰‹å†™çš„æ•™ç¨‹å’Œç¤ºä¾‹</p></li>
<li><p>å¼€å‘æ–‡æ¡£ï¼šè´¡çŒ®æŒ‡å—ã€æ¶æ„è¯´æ˜ç­‰</p></li>
</ul>
</section>
<section id="id20">
<h3>æ„å»ºæ–‡æ¡£<a class="headerlink" href="#id20" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ„å»º HTML æ–‡æ¡£</span>
make<span class="w"> </span>docs

<span class="c1"># æˆ–è€…ç›´æ¥ä½¿ç”¨ Sphinx</span>
<span class="nb">cd</span><span class="w"> </span>docs
uv<span class="w"> </span>run<span class="w"> </span>sphinx-build<span class="w"> </span>-b<span class="w"> </span>html<span class="w"> </span>.<span class="w"> </span>_build/html
</pre></div>
</div>
</section>
</section>
<section id="id21">
<h2>å‘å¸ƒæµç¨‹<a class="headerlink" href="#id21" title="Link to this heading">ïƒ</a></h2>
<section id="id22">
<h3>ç‰ˆæœ¬ç®¡ç†<a class="headerlink" href="#id22" title="Link to this heading">ïƒ</a></h3>
<ul class="simple">
<li><p>ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼š<code class="docutils literal notranslate"><span class="pre">MAJOR.MINOR.PATCH</span></code></p></li>
<li><p>åœ¨ <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> ä¸­æ›´æ–°ç‰ˆæœ¬å·</p></li>
<li><p>åˆ›å»º git tagï¼š<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">v1.2.3</span></code></p></li>
</ul>
</section>
<section id="id23">
<h3>è‡ªåŠ¨å‘å¸ƒ<a class="headerlink" href="#id23" title="Link to this heading">ïƒ</a></h3>
<p>é¡¹ç›®é…ç½®äº† GitHub Actions è‡ªåŠ¨å‘å¸ƒï¼š</p>
<ol class="arabic simple">
<li><p>æ¨é€ tag åˆ° GitHub</p></li>
<li><p>GitHub Actions è‡ªåŠ¨æ„å»ºå’Œæµ‹è¯•</p></li>
<li><p>è‡ªåŠ¨å‘å¸ƒåˆ° PyPI</p></li>
</ol>
</section>
<section id="id24">
<h3>æ‰‹åŠ¨å‘å¸ƒ<a class="headerlink" href="#id24" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ„å»ºå‘å¸ƒåŒ…</span>
make<span class="w"> </span>build

<span class="c1"># å‘å¸ƒåˆ° PyPI</span>
make<span class="w"> </span>release
</pre></div>
</div>
</section>
</section>
<section id="id25">
<h2>é—®é¢˜æŠ¥å‘Š<a class="headerlink" href="#id25" title="Link to this heading">ïƒ</a></h2>
<section id="bug">
<h3>æŠ¥å‘Š Bug<a class="headerlink" href="#bug" title="Link to this heading">ïƒ</a></h3>
<p>è¯·åœ¨ GitHub Issues ä¸­æŠ¥å‘Š bugï¼ŒåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<ul class="simple">
<li><p>Python ç‰ˆæœ¬</p></li>
<li><p>pyutils ç‰ˆæœ¬</p></li>
<li><p>æ“ä½œç³»ç»Ÿ</p></li>
<li><p>é‡ç°æ­¥éª¤</p></li>
<li><p>æœŸæœ›è¡Œä¸º</p></li>
<li><p>å®é™…è¡Œä¸º</p></li>
<li><p>é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœ‰ï¼‰</p></li>
</ul>
</section>
<section id="id26">
<h3>åŠŸèƒ½è¯·æ±‚<a class="headerlink" href="#id26" title="Link to this heading">ïƒ</a></h3>
<p>æå‡ºæ–°åŠŸèƒ½å»ºè®®æ—¶ï¼Œè¯·è¯´æ˜ï¼š</p>
<ul class="simple">
<li><p>åŠŸèƒ½æè¿°</p></li>
<li><p>ä½¿ç”¨åœºæ™¯</p></li>
<li><p>é¢„æœŸ API è®¾è®¡</p></li>
<li><p>æ˜¯å¦æ„¿æ„å®ç°</p></li>
</ul>
</section>
</section>
<section id="id27">
<h2>è·å–å¸®åŠ©<a class="headerlink" href="#id27" title="Link to this heading">ïƒ</a></h2>
<p>å¦‚æœæ‚¨åœ¨è´¡çŒ®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š</p>
<ul class="simple">
<li><p>æŸ¥çœ‹ç°æœ‰çš„ Issues å’Œ Pull Requests</p></li>
<li><p>åœ¨ GitHub Discussions ä¸­æé—®</p></li>
<li><p>å‘é€é‚®ä»¶ç»™ç»´æŠ¤è€…</p></li>
</ul>
<p>æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pyutils.html" class="btn btn-neutral float-left" title="pyutils package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="changelog.html" class="btn btn-neutral float-right" title="å˜æ›´æ—¥å¿—" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, pyutils contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>